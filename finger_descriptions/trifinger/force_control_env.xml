<mujoco model="nyu_finger0">

  <compiler angle="radian"  meshdir="meshes"/>
  <extension>
    <plugin plugin="mujoco.sensor.touch_grid"/>
  </extension>
  <!-- <option gravity="0 0 0"/> -->
  <size/>
  <default/>
  <asset>
    <mesh name="base_back" file="base_back.stl"/>
    <mesh name="base_front" file="base_front.stl"/>
    <mesh name="base_side_left" file="base_side_left.stl"/>
    <mesh name="base_top" file="base_top.stl"/>
    <mesh name="upper_link" file="upper_link.stl"/>
    <mesh name="middle_link" file="middle_link.stl"/>
    <mesh name="lower_link" file="lower_link.stl"/>
  </asset>
  <worldbody>
    <light pos="1 0 1.5" dir="0 0 -1" directional="true"/>
    <light pos="-1 0 1.5" dir="0 0 -1" directional="true"/>
    

    <body name="finger0_upper_link" pos="-0.065 0 0.37">
      <inertial pos="-0.079 0 0" quat="0.531109 0.531109 0.466822 0.466822" mass="0.14854" diaginertia="0.000416469 0.00041 2.35312e-05"/>
      <joint name="finger0_base_to_upper_joint" pos="0 0 0" axis="-1 0 0" range="-1.5708 1.5708"/>
      <geom name="finger0_upper_link" pos="0.0195 0 0" type="mesh" rgba="0.6 0.6 0.6 1" mesh="upper_link"/>
      <body name="finger0_middle_link" pos="0 -0.014 0">
        <inertial pos="0 -0.019 -0.079" quat="0.705644 0.0454575 -0.0454575 0.705644" mass="0.14854" diaginertia="0.000416469 0.00041 2.35312e-05"/>
        <joint name="finger0_upper_to_middle_joint" pos="0 0 0" axis="0 1 0" range="-1.5708 1.5708"/>
        <geom name="finger0_middle_link" type="mesh" rgba="0.6 0.6 0.6 1" mesh="middle_link"/>
        <body name="finger0_lower_link" pos="0 -0.03745 -0.16">
          <inertial pos="0 -0.0087543 -0.106445" quat="0.999999 0.00169458 0 0" mass="0.0407" diaginertia="0.000158198 0.000158193 1.72395e-07"/>
          <joint name="finger0_middle_to_lower_joint" pos="0 0 0" axis="0 1 0" range="-3.14159 3.14159"/>
          <geom name = "finger0_lower_link" type="mesh" rgba="0.6 0.6 0.6 1" mesh="lower_link" friction="0.8"/>
        </body>
      </body>
    </body>

    <body name="finger1_upper_link" pos="0.0325 -0.0563 0.37" quat="0.501902 0 0 0.864925">
      <inertial pos="-0.079 0 0" quat="0.531109 0.531109 0.466822 0.466822" mass="0.14854" diaginertia="0.000416469 0.00041 2.35312e-05"/>
      <joint name="finger1_base_to_upper_joint" pos="0 0 0" axis="-1 0 0" range="-1.5708 1.5708"/>
      <geom name="finger1_upper_link"  pos="0.0195 0 0" type="mesh" rgba="0.6 0.6 0.6 1" mesh="upper_link"/>
      <body name="finger1_middle_link" pos="0 -0.014 0">
        <inertial pos="0 -0.019 -0.079" quat="0.705644 0.0454575 -0.0454575 0.705644" mass="0.14854" diaginertia="0.000416469 0.00041 2.35312e-05"/>
        <joint name="finger1_upper_to_middle_joint" pos="0 0 0" axis="0 1 0" range="-1.5708 1.5708"/>
        <geom name="finger1_middle_link" type="mesh" rgba="0.6 0.6 0.6 1" mesh="middle_link"/>
        <body name="finger1_lower_link" pos="0 -0.03745 -0.16">
          <inertial pos="0 -0.0087543 -0.106445" quat="0.999999 0.00169458 0 0" mass="0.0407" diaginertia="0.000158198 0.000158193 1.72395e-07"/>
          <joint name="finger1_middle_to_lower_joint" pos="0 0 0" axis="0 1 0" range="-3.14159 3.14159"/>
          <geom name="finger1_lower_link" type="mesh" rgba="0.6 0.6 0.6 1" mesh="lower_link" friction="0.8"/>
        </body>
      </body>
    </body>

    <body name="finger2_upper_link" pos="0.0325 0.0563 0.37" quat="0.501902 0 0 -0.864925">
      <inertial pos="-0.079 0 0" quat="0.531109 0.531109 0.466822 0.466822" mass="0.14854" diaginertia="0.000416469 0.00041 2.35312e-05"/>
      <joint name="finger2_base_to_upper_joint" pos="0 0 0" axis="-1 0 0" range="-1.5708 1.5708"/>
      <geom name="finger2_upper_link" pos="0.0195 0 0" type="mesh" rgba="0.6 0.6 0.6 1" mesh="upper_link"/>
      <body name="finger2_middle_link" pos="0 -0.014 0">
        <inertial pos="0 -0.019 -0.079" quat="0.705644 0.0454575 -0.0454575 0.705644" mass="0.14854" diaginertia="0.000416469 0.00041 2.35312e-05"/>
        <joint name="finger2_upper_to_middle_joint" pos="0 0 0" axis="0 1 0" range="-1.5708 1.5708"/>
        <geom name="finger2_middle_link" type="mesh" rgba="0.6 0.6 0.6 1" mesh="middle_link"/>
        <body name="finger2_lower_link" pos="0 -0.03745 -0.16">
          <inertial pos="0 -0.0087543 -0.106445" quat="0.999999 0.00169458 0 0" mass="0.0407" diaginertia="0.000158198 0.000158193 1.72395e-07"/>
          <joint name="finger2_middle_to_lower_joint" pos="0 0 0" axis="0 1 0" range="-3.14159 3.14159"/>
          <geom name="finger2_lower_link" type="mesh" rgba="0.6 0.6 0.6 1" mesh="lower_link" friction="0.8"/>
        </body>
      </body>
    </body>

  
  <geom name="center_box"
          type="box"
          size="0.3 0.3 0.01"
          pos ="0 0 0.13"
          rgba="0.7 0.6 0.5 1"/>

    <!-- Site whose footprint matches the 10×10 grid (0.05 m square)    -->
    <!-- Give it 1 mm clearance above the box to guarantee contact pick‑up -->
    <site name="grid_site"
          type="box"
          size="0.3 0.3 0.0005"         
          pos ="0 0 0.1415"           
          rgba="1 0 0 0.3"/>

  </worldbody>
  <sensor>
    <plugin name="touch" plugin="mujoco.sensor.touch_grid" objtype="site" objname="grid_site">
      <config key="size" value="300 300"/>
      <config key="fov" value="45 45"/>
      <config key="gamma" value="0"/>
      <config key="nchannel" value="3"/>
    </plugin>
  </sensor>
  
  <actuator>
    <motor name="finger0_base_to_upper_joint"       gear="1"  joint="finger0_base_to_upper_joint"/>
    <motor name="finger0_upper_to_middle_joint"       gear="1"  joint="finger0_upper_to_middle_joint"/>
    <motor name="finger0_middle_to_lower_joint"       gear="1"  joint="finger0_middle_to_lower_joint"/>
    <motor name="finger1_base_to_upper_joint"       gear="1"  joint="finger1_base_to_upper_joint"/>
    <motor name="finger1_upper_to_middle_joint"       gear="1"  joint="finger1_upper_to_middle_joint"/>
    <motor name="finger1_middle_to_lower_joint"       gear="1"  joint="finger1_middle_to_lower_joint"/>
    <motor name="finger2_base_to_upper_joint"       gear="1"  joint="finger2_base_to_upper_joint"/>
    <motor name="finger2_upper_to_middle_joint"       gear="1"  joint="finger2_upper_to_middle_joint"/>
    <motor name="finger2_middle_to_lower_joint"       gear="1"  joint="finger2_middle_to_lower_joint"/>
  </actuator>
</mujoco>